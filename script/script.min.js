(function(){function u(){for(var e=0,t;t=o[e++];)!t.src&&t.offsetTop+t.offsetHeight/2<scrollY+innerHeight&&(t.src=t.getAttribute("data-src"),t.removeAttribute("data-src"))}var e=document.getElementById("search"),t=document.getElementById("results"),n=e.firstChild,r=e.childNodes[1],i=wrench.init("script/search.min.js"),s;r.style.visibility="hidden",i.on("populate",function(e){var n=document.createElement("div");n.className="result",n.innerHTML="<h4><a href=/"+e.id+".html>"+e.title+"</a></h4><p>"+e.snip+"...</p>",t.appendChild(n)}),i.on("done",function(){r.style.visibility="hidden"}),n.onkeyup=function(){n.value!==s&&n.value&&(r.style.visibility="",t.innerHTML="",i.emit("search",s=n.value))};var o=document.getElementsByTagName("img");u(),window.onscroll=u})()