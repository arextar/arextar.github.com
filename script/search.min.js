function Cache(e){function r(r){e.timeout&&(clearTimeout(n[r]),n[r]=setTimeout(function(){delete t[r]},e.timeout))}function i(e,n){return r(e),t[e]=n}function s(e){return t.hasOwnProperty(e)}var t={},n={};return{get:function(e){return r(e),t[e]},set:i,has:s,init:function(e,n){return r(e),s(e)?t[e]:i(e,n)},initAsync:function(e,n,o){r(e);if(s(e))return o(t[e]);n(function(t){i(e,t),o(t)})}}}function get(e,t,n){typeof t=="function"&&(n=t,t="text"),xhr_cache.initAsync(e,function(n){wrench.log(e),wrench.get(e,t,n)},n)}importScripts("wrench/wrench.worker.js");var xhr_cache=new Cache({timeout:6e4});wrench.on("search",function(e){get("../data/search.json","json",function(t){e=RegExp(e,"i"),wrench.each(t,function(t){e.test(t.title)?wrench.emit("populate",t):e.test(t.snip)?wrench.emit("populate",t):t.hasOwnProperty("tags")&&e.test(t.tags)&&wrench.emit("populate",t)},function(){wrench.emit("done")})})})